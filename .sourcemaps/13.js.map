{"version":3,"sources":["../../src/pages/create-asset/create-asset.module.ts","../../src/pages/create-asset/create-asset.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CreateAssetPage } from './create-asset';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CreateAssetPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(CreateAssetPage),\r\n  ],\r\n})\r\nexport class CreateAssetPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-asset/create-asset.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, Events} from 'ionic-angular';\nimport {AssetsService} from \"../../providers/assets.service\";\nimport {ToastProvider} from \"../../providers/toast\";\nimport {FingerprintProvider} from \"../../providers/fingerprint\";\nimport {UserService} from \"../../providers/user.service\";\nimport {Iuser} from \"../../interface/user.interface\";\n\n\n@IonicPage()\n@Component({\n  selector: 'page-create-asset',\n  templateUrl: 'create-asset.html',\n})\nexport class CreateAssetPage {\n\n  startDate:string = '2017-12-01';\n  endDate:string = '2100-12-01';\n\n  asset:any = {\n    name: null,\n    categoryId: null,\n    inputDetails: null,\n    expectedHarvestAmount: null,\n    expectedHarvestDate: null,\n    category: {level1: {}, level2: {}, level3: {}, level4: {}, level5: {}},\n  };\n\n  chosenLang = 1;\n  selectedIndexOnLevelOne = null;\n  selectedIndexOnLevelTwo = null;\n  selectedIndexOnLevelThree = null;\n  selectedIndexOnLevelFour = null;\n  selectedIndexOnLevelFive = null;\n\n  assetCategoriesLevelOne = [];\n  assetCategoriesLevelTwo = [];\n  assetCategoriesLevelThree = [];\n  assetCategoriesLevelFour = [];\n  assetCategoriesLevelFive = [];\n  deepestCategorySelected = false;\n  lastCategoryId = null;\n  user={} as Iuser;\n\n  constructor(public navCtrl:NavController,\n              public navParams:NavParams,\n              private assetsService:AssetsService,\n              private events:Events,\n              private toastService:ToastProvider,\n              private fingerprintProvider:FingerprintProvider,\n              public userService: UserService) {\n\n  }\n\n  ionViewDidLoad() {\n    this.getCategories(0);\n    this.userService.getUser().subscribe((user)=>{\n      this.user=user;\n    });\n  }\n\n  onAssetCategoryLevelChange(category:any, level:number, index:number) {\n    console.log(category)\n    console.log(level)\n\n    if (!category.hasChildren) {\n      this.deepestCategorySelected = true;\n      this.lastCategoryId = category.id;\n      this.asset.categoryId = this.lastCategoryId;\n      return;\n    }\n    this.deepestCategorySelected = false;\n\n    if (level === 0) {\n\n      this.assetCategoriesLevelThree = [];\n      this.assetCategoriesLevelFour = [];\n      this.assetCategoriesLevelFive = [];\n\n    }\n    if (level === 1) {\n      this.assetCategoriesLevelFour = [];\n      this.assetCategoriesLevelFive = [];\n\n    }\n    if (level === 2) {\n      this.assetCategoriesLevelFive = [];\n\n    }\n\n    this.assetsService.getCategories(category.id)\n      .subscribe((assetCategory:Array<any>) => {\n        console.log(assetCategory)\n        if (level === 0) {\n          this.assetCategoriesLevelTwo = assetCategory;\n\n        }\n        if (level === 1) {\n          this.assetCategoriesLevelThree = assetCategory;\n\n        }\n        if (level === 2) {\n          this.assetCategoriesLevelFour = assetCategory;\n\n        }\n\n        if (level === 3) {\n          this.assetCategoriesLevelFive = assetCategory;\n        }\n\n\n      }, (err) => {\n        this.toastService.presentToast('Category', 'Something went wrong');\n      })\n\n\n  }\n\n  getCategories(level:number) {\n    return this.assetsService.getCategories(level)\n      .subscribe((assetCategory:Array<any>) => {\n        this.assetCategoriesLevelOne = assetCategory;\n      }, (err) => {\n        this.toastService.presentToast('Category', 'Something went wrong');\n      })\n  }\n\n  async verify() {\n    let asset = JSON.parse(JSON.stringify(this.asset));\n    console.log(this.asset)\n    for (let level in this.asset.category) {\n\n      if (this.asset.category[level].attrs && this.asset.category[level].attrs.length)\n        asset.category[level] = this.asset.category[level].attrs[this.chosenLang];\n      else\n        asset.category[level] = '';\n    }\n    this.registerAsset([asset])\n    //this.fingerprintProvider.presentActionSheet(this.registerAsset, this, this.user.passcode,false, asset);\n\n  }\n\n\n  registerAsset(params:any[]) {\n    const asset=params[0];\n    console.log(asset)\n    this.assetsService.createAsset(asset).subscribe((data)=> {\n      console.log('saveed succesfully')\n      this.events.publish('new-asset',asset)\n      this.toastService.presentToast('Saved Succesfully');\n      this.navCtrl.pop();\n    }, (err)=> {\n      console.log(err)\n      this.toastService.presentToast('Something went wrong');\n    })\n  }\n\n  uploadPage() {\n    this.navCtrl.push('UploadPage', {config: {uploadType: 'field'}});\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/create-asset/create-asset.ts"],"sourceRoot":""}